<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"examples_full_example.js.html":{"id":"examples_full_example.js.html","title":"Source: examples/full/example.js","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Source: examples/full/example.js (function() { angular.module('example', ['osm', 'angular-leaflet']) .config(config) .controller('ExampleCtrl', ExampleCtrl); function config(osmAuthServiceProvider, osmAPIProvider) { /** * oauth dependes on URL: */ var OSM_AUTH = { 'master.apis.dev': { url: 'http://master.apis.dev.openstreetmap.org', oauth_consumer_key: 'q6ufd5sRaJrKTUs5wKrxezq9fkwIP83ulmnUsZHH', oauth_secret: 'C3CDCY0FRERp8QVxl8MjZv1sYuv7yAUSP4pDFwLt' }, 'api06.dev': { url: 'http://api06.dev.openstreetmap.org', }, 'www': { url: 'http://www.openstreetmap.org', oauth_consumer_key: 'Y4mIaH1rx9qqjYFo9mjDEc7rArpP7rFkj1hLl3Mj', oauth_secret: 'EkXrocMrHbtSQ3r9VH0D7KH6oAEhfJ6elImVRBzB' } }; osmAPIProvider.options = { // url: 'http://api06.dev.openstreetmap.org/api' // url: 'http://www.openstreetmap.org/api' url: 'http://master.apis.dev.openstreetmap.org/api' }; osmAuthServiceProvider.options = OSM_AUTH['master.apis.dev']; } function ExampleCtrl ($scope, osmAPI, osmAuthService, leafletService) { var $ctrl = this; $ctrl.bbox = '-1.5590554475784302,47.21250296746172,-1.5530633926391602,47.21564395777462'; $ctrl.osmAPI = osmAPI; $ctrl.osmAuth = osmAuthService; this.loading = false; $ctrl.doLogin = function () { osmAuthService.authenticate().then(onUserChange); }; $ctrl.onMapInitialized = function(map) { $ctrl.leaflet = map; $ctrl.leaflet.setZoom(18); setBBox(); leafletService.on('move', setBBox, map, $scope); leafletService.on('zoomend', setBBox, map, $scope); }; function setBBox() { var bounds = $ctrl.leaflet.getBounds(); $ctrl.bbox = bounds.toBBoxString(); } function onUserChange(data) { if (osmAuthService.authenticated()) { $ctrl.authenticated = true; osmAPI.setAuthAdapter(osmAuthService); osmAPI.getUserDetails().then(function (user) { $ctrl.data = user; $ctrl.user = user.osm.user; }); } else { $ctrl.authenticated = false; delete $ctrl.data; delete $ctrl.user; } } onUserChange(); $ctrl.logout = function () { osmAuthService.logout(); onUserChange(); }; $ctrl.onData = function onData(data) { $ctrl.loading = false; delete $ctrl.data; $ctrl.data = data; }; $ctrl.onError = function onError(error) { $ctrl.loading = false; $ctrl.error = error; }; $ctrl.closeError = function () { delete $ctrl.error; }; } })(); × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"src_base64_base64.service.js.html":{"id":"src_base64_base64.service.js.html","title":"Source: src/base64/base64.service.js","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Source: src/base64/base64.service.js /** * @class * Create osmBase64 angular service instance. * This can be used as osmAPI adapter. */ class Base64Adapter{ /** * the constructor * @param {Object} $base64 service provided by angular-base64 module * @param {Object} $http angular $http service * @param {Object} osmx2js angular-osm service * to transform response from xml to object */ constructor($base64, $http, osmx2js) { this.$base64 = $base64; this.storage = {}; this.$http = $http; this.url = 'http://api.openstreetmap.org/api'; this.osmx2js = osmx2js; } /** * the main method used to do the call to the API * @param {Object} options * @returns {Promise} $http response */ xhr(options) { var self = this; options.url = this.url + options.path; options.headers = { Authorization: this.getAuthorization() }; return this.$http(options).then(function (data) { var d = data.data; if (!d) { return; } if (d.substr) { if (d.substr(0, 5) === '&lt;?xml') { return self.osmx2js.xml2js(d); } } return d; }); } /** * if you don't use oauth, you can save * credentials here using base64 localstorage (completly unsecure) * @param {string} username your username * @param {string} password the user password. * WARNING base64 is unsafe and the credentials are stored in the localstorage * @returns {string} crendentials */ setCredentials(username, password) { this.storage.username = username; var credentials = this.$base64.encode(username + ':' + password); this.storage.credentials = credentials; return credentials; } /** * if you don't use oauth, you can manage * credentials here using base64 headers * @returns {string} crendentials from the last set */ getCredentials() { return this.storage.credentials; } /** * compute authorization header from credentials * @returns {string} HTTP Header 'Basic CREDENTIAL AS BASE64' */ getAuthorization() { return 'Basic ' + this.storage.credentials; } /** * remove credentials from the localstorage * @returns {string} HTTP Header 'Basic CREDENTIAL AS BASE64' */ clearCredentials() { if (this.storage.removeItem) { this.storage.removeItem('credentials') } else { delete this.storage.credentials; } } } Base64Adapter.$inject = ['$base64', '$http', 'osmx2js']; export default Base64Adapter; × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"src_osm.js.html":{"id":"src_osm.js.html","title":"Source: src/osm.js","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Source: src/osm.js /** * @module osm */ import oauth from './oauth/oauth'; import base64 from './base64/base64'; import api from './api/api'; import overpass from './overpass/overpass'; import taginfo from './taginfo/taginfo'; import nominatim from './nominatim/nominatim'; import togeojson from './togeojson/togeojson'; import osrm from './osrm/osrm'; angular.module('osm', [ api.name, base64.name, oauth.name, overpass.name, taginfo.name, nominatim.name, togeojson.name, osrm.name ]); export default angular.module('osm'); × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"src_nominatim_nominatim.service.js.html":{"id":"src_nominatim_nominatim.service.js.html","title":"Source: src/nominatim/nominatim.service.js","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Source: src/nominatim/nominatim.service.js /** * @class * Create osmNominatim service instance. * This service create nominatim query. */ class NominatimAPI{ /** * @param {Object} $http angular $http service * @param {Object} options set by the provider to set the url */ constructor($http, options) { this.url = options.url; this.$http = $http; } /** * @param {Object/String} query * http://wiki.openstreetmap.org/wiki/Nominatim * @return {Promise} $http.get */ search(query) { //https://nominatim.openstreetmap.org/search //?X-Requested-With=overpass-turbo&amp;format=json&amp;q=vern-sur-seiche //params['accept-language'] = 'fr'; var params; if (typeof query === 'string' || !query) { params = { format: 'json', q: query }; } else { params = angular.copy(query); params.format = 'json'; } var config = { params: params }; let url = this.url + '/search'; return this.$http.get(url, config); } /** * @param {Object/String} query * http://wiki.openstreetmap.org/wiki/Nominatim * @return {Promise} $http.get */ reverse(query) { //https://nominatim.openstreetmap.org/reverse //?X-Requested-With=overpass-turbo&amp;format=json&amp;q=vern-sur-seiche //params['accept-language'] = 'fr'; var params; if (typeof query === 'string') { params = { format: 'json', q: query }; } else { params = angular.copy(query); params.format = 'json'; } var config = { params: params }; let url = this.url + '/reverse'; return this.$http.get(url, config); } /** * http://nominatim.openstreetmap.org/lookup?osm_ids=R146656,W104393803,N240109189 * @param {Object/String} query * http://wiki.openstreetmap.org/wiki/Nominatim * @return {Promise} $http.get */ lookup(query) { var params; if (typeof query === 'string') { params = { format: 'json', q: query }; } else { params = angular.copy(query); params.format = 'json'; } var config = { params: params }; let url = this.url + '/lookup'; return this.$http.get(url, config); } } NominatimAPI.$inject = ['$http']; export default NominatimAPI; × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"src_oauth_oauth.service.js.html":{"id":"src_oauth_oauth.service.js.html","title":"Source: src/oauth/oauth.service.js","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Source: src/oauth/oauth.service.js /** * @class * Create osmAuthService service instance */ class OAuthAdapter{ /** * @param {Object} $q angular $q service * @param {Object} osmx2js angular osm service * @param {Object} options set options for the lib https://github.com/osmlab/osm-auth */ constructor($q, osmx2js, options) { if (options) { if (options.oauth_secret &amp;&amp; options.oauth_consumer_key) { this.auth = osmAuth(options); } } this.osmx2js = osmx2js; this.$q = $q; this._options = options; } /** * Just logout. Warning this is synchronous code * and doesn t return anything. */ logout() { this.auth.logout(); } /** * @return {boolean} */ authenticated() { return this.auth.authenticated(); } /** * @return {Promise} true/false value */ authenticate() { var deferred = this.$q.defer(); this.auth.authenticate(function () { deferred.resolve(true); }); return deferred.promise; } /** * @param {Object} options * @return {Promise} http response */ xhr(options) { var self = this; var deferred = this.$q.defer(); options.path = '/api' + options.path; if (options.data) { options.body = options.data; options.data = undefined; } this.auth.xhr(options, function (err, data) { if (err) { deferred.reject(err); } else { if (data instanceof XMLDocument) { deferred.resolve(self.osmx2js.dom2js(data)); } else { deferred.resolve(data); } } }); return deferred.promise; } /** * Set the options of the oauth lib * @param {Object} options set options for the lib https://github.com/osmlab/osm-auth */ options(options) { if (this.auth) { this.auth.options(options); } else { this.auth = osmAuth(options); } } } OAuthAdapter.$inject = ['$q', 'osmx2js']; export default OAuthAdapter; × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"src_api_api.js.html":{"id":"src_api_api.js.html","title":"Source: src/api/api.js","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Source: src/api/api.js /** * @module osm.api */ import osmAPI from './api.service'; import osmx2jsModule from '../x2js/x2js'; var osmAPIModule = angular.module('osm.api', [ osmx2jsModule.name ]) .provider('osmAPI', function osmAPIProvider () { this.options = { url: 'http://api.openstreetmap.org/api' }; this.$get = function osmAPIFactory($http, $q, osmx2js) { return new osmAPI($http, $q, osmx2js, this.options); }; this.$get.$inject = ['$http', '$q', 'osmx2js']; }); export default osmAPIModule; × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"src_base64_base64.js.html":{"id":"src_base64_base64.js.html","title":"Source: src/base64/base64.js","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Source: src/base64/base64.js /** * @module osm.base64 */ import osmBase64 from './base64.service'; import osmAPIModule from '../api/api'; import osmx2jsModule from '../x2js/x2js'; var osmBase64Module = angular.module('osm.base64', [ osmx2jsModule.name, osmAPIModule.name, 'base64' ]) .provider('osmBase64', function osmBase64Provider () { this.options = { url: 'http://api.openstreetmap.org/api' }; this.$get = function osmBase64Factory($base64, $http, $q, osmx2js) { return new osmBase64($base64, $http, $q, osmx2js, this.options); }; this.$get.$inject = ['$base64', '$http', 'osmx2js']; }); export default osmBase64Module; × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"src_nominatim_nominatim.js.html":{"id":"src_nominatim_nominatim.js.html","title":"Source: src/nominatim/nominatim.js","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Source: src/nominatim/nominatim.js /** * @module osm.nominatim */ import osmNominatim from './nominatim.service'; var osmNominatimModule = angular.module('osm.nominatim', []) .factory('osmNominatim', osmNominatim) .provider('osmNominatim', function osmNominatimProvider () { this.options = { url: 'https://nominatim.openstreetmap.org' }; this.$get = function osmNominatimFactory($http) { return new osmNominatim($http, this.options); }; this.$get.$inject = ['$http']; }); export default osmNominatimModule; × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"src_oauth_oauth.js.html":{"id":"src_oauth_oauth.js.html","title":"Source: src/oauth/oauth.js","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Source: src/oauth/oauth.js /** * @module osm.oauth */ import osmAuthService from './oauth.service'; import osmAPIModule from '../api/api'; import osmx2jsModule from '../x2js/x2js'; var osmOAuthModule = angular.module('osm.oauth', [ osmAPIModule.name, osmx2jsModule.name ]) .provider('osmAuthService', function osmAuthServiceProvider () { this.options = {}; this.$get = function osmAuthServiceFactory($q, osmx2js) { return new osmAuthService($q, osmx2js, this.options); }; this.$get.$inject = ['$q', 'osmx2js']; }); export default osmOAuthModule; × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"src_osrm_osrm.js.html":{"id":"src_osrm_osrm.js.html","title":"Source: src/osrm/osrm.js","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Source: src/osrm/osrm.js /** * @module osm.osrm */ import osrmAPI from './osrm.service'; var osrmModule = angular.module('osm.osrm', []) .provider('osrmAPI', function osrmAPIProvider () { this.options = { url: 'http://router.project-osrm.org' }; this.$get = function osrmAPIFactory($http, $q) { return new osrmAPI($http, $q, this.options); }; this.$get.$inject = ['$http', '$q']; }); export default osrmModule; × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"src_overpass_overpass.js.html":{"id":"src_overpass_overpass.js.html","title":"Source: src/overpass/overpass.js","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Source: src/overpass/overpass.js /** * @module osm.overpass */ import osmOverpassAPI from './overpass.service'; var osmOverpassModule = angular.module('osm.overpass', []) .provider('osmOverpassAPI', function osmOverpassAPIProvider () { this.options = { url: 'http://overpass-api.de/api/interpreter' }; this.$get = function osmOverpassAPIFactory($http, $q) { return new osmOverpassAPI($http, $q, this.options); }; this.$get.$inject = ['$http', '$q']; }); export default osmOverpassModule; × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"src_taginfo_taginfo.js.html":{"id":"src_taginfo_taginfo.js.html","title":"Source: src/taginfo/taginfo.js","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Source: src/taginfo/taginfo.js /** * @module osm.taginfo */ import osmTagInfoAPI from './taginfo.service'; var osmTagInfoModule = angular.module('osm.taginfo', []) .service('osmTagInfoAPI', osmTagInfoAPI); export default osmTagInfoModule; × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"src_togeojson_togeojson.js.html":{"id":"src_togeojson_togeojson.js.html","title":"Source: src/togeojson/togeojson.js","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Source: src/togeojson/togeojson.js /** * @module osm.togeojson */ import provider from './togeojson.provider'; var osmtogeojsonModule = angular.module('osm.togeojson', []) .provider('osmtogeojson', provider); export default osmtogeojsonModule; × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"src_x2js_x2js.js.html":{"id":"src_x2js_x2js.js.html","title":"Source: src/x2js/x2js.js","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Source: src/x2js/x2js.js /** * @module osm.x2js */ var osmx2jsModule = angular.module('osm.x2js', []) .provider('osmx2js', function osmx2jsProvider () { this.options = {}; this.$get = function osmx2jsFactory() { return new X2JS(this.options); //X2JS must be global }; }); export default osmx2jsModule; × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"src_api_api.service.js.html":{"id":"src_api_api.service.js.html","title":"Source: src/api/api.service.js","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Source: src/api/api.service.js /** * @class * Create the angular service instance. * The main idea is to provide only object and hide the XML related stuf. * This is achieve using XML2JS. */ class OSMAPI { /** * @param {Object} $http angular http * @param {Object} $q angular promise * @param {Object} osmx2js service * @param {Object} options to get set url of the API */ constructor($http, $q, osmx2js, options) { this.url = options.url; this.$http = $http; this.$q = $q; this.osmx2js = osmx2js; this._oauth = null; } /** * Set the adapter to make authenticated request. * @param {Object} adapter must provide xhr method. * angular-osm provide two adapter: osmBase64 and osmAuthService */ setAuthAdapter(adapter) { this._oauth = adapter; } /** * Get the adapter used to do authenticated xhr * @return {Object} */ getAuthAdapter() { return this._oauth; } // ------------------ INTERNAL CALL SERVER (API) ----------------- /** * Call the API * @param {Object} options * ``` var options = { method: 'GET', // POST, DELETE, PUT path: '/0.6/changesets', //without the /api data: content //if you need a payload }; osmAPI.xhr(options); ``` * @return {Promise} the adapter response */ xhr(options) { let deferred = this.$q.defer(); return this._oauth.xhr(options); } /** * send a get request to OSM with * @returns {Promise} $http response */ getAuthenticated(method, config) { var _config = angular.copy(config); if (!_config) { _config = {}; } _config.method = 'GET'; _config.path = method; return this.xhr(_config); } /** * send a get request * @param {string} method the api method * @param {Object} config the $http.get config * @returns {Promise} $http response with XML as string */ get(method, config) { var deferred = this.$q.defer(); var self = this; var url = this.url + method; this.$http.get(url, config).then(function (data) { deferred.resolve(self.osmx2js.xml2js(data.data)); }, function (error) { deferred.reject(error); }); return deferred.promise; } /** * send a put request * @param {string} method the api method * @param {Object} content payload * @param {Object} config the $http.put config * @returns {Promise} $http response */ put(method, content, config) { if (!config) { config = {}; } var _config = angular.copy(config); _config.method = 'PUT'; _config.path = method; _config.data = this.osmx2js.js2xml(content); return this.xhr(_config); } /** * send a delete request * @param {string} method the api method * @param {Object} config the $http.delete config * @returns {Promise} $http response */ delete(method, config) { if (!config) { config = {}; } var _config = angular.copy(config); _config.method = 'DELETE'; _config.path = method; return this.xhr(_config); } // ------------------ CHANGESET ----------------- /** * @param {string} comment the comment assiociated to the changeset * @returns {Promise} $http response */ createChangeset(comment) { var self = this; var deferred = this.$q.defer(); var changeset = {osm: { changeset: { tag: [ {_k:'created_by', _v: 'Angular-OSM'}, {_k:'comment', _v: comment}, ] } }}; this.put('/0.6/changeset/create', changeset).then(function (data) { deferred.resolve(data); }); return deferred.promise; } /** * @returns {Promise} $http response with the last changeset id * or undefined if no changeset was opened */ getLastOpenedChangesetId() { var self = this; var deferred = this.$q.defer(); var config = { params:{user: this._oauth.getUserID(), open: true} }; this.get('/0.6/changesets', config).then(function (data) { var changesets = data.osm.changeset; if (changesets.length &gt; 0) { deferred.resolve(changesets[0].id); } else if (changesets._id) { deferred.resolve(changesets._id); } else { deferred.resolve(); } }); return deferred.promise; } /** * @returns {Promise} $http.put response of * /0.6/changeset/CHANGESET_ID/close */ closeChangeset(id) { var self = this; return this.put(`/0.6/changeset/${id}/close`) .then(function (data) { return data; }); } // ------------------ USER API ----------------- /** * @param {string} id id of the user * @returns {Promise} $http.get response * /0.6/user/#id */ getUserById(id) { return this.getAuthenticated('/0.6/user/' + id); } /** * @returns {Promise} $http.get response * /0.6/user/details */ getUserDetails() { return this.getAuthenticated('/0.6/user/details'); } /** * @returns {Promise} $http.get response * /0.6/user/preferences */ getUserPreferences() { return this.getAuthenticated('/0.6/user/preferences'); } /** * @param {string} key the preference key * @param {string} value the preference value * @returns {Promise} $http.get response * /0.6/user/preferences */ putUserPreferences(key, value) { return this.put('/0.6/user/preferences/' + key , value); } //------------------ MAP DATA ------------------------- /** * @param {string} bbox left,bottom,right,top * where: left is the longitude of the left (westernmost) side of the bounding box. bottom is the latitude of the bottom (southernmost) side of the bounding box. right is the longitude of the right (easternmost) side of the bounding box. top is the latitude of the top (northernmost) side of the bounding box. * @returns {Promise} $http.get response * /0.6/map?bbox=bbox */ getMap(bbox) { return this.get('/0.6/map?bbox=' + bbox); } /** * @param {string} bbox left,bottom,right,top * where: left is the longitude of the left (westernmost) side of the bounding box. bottom is the latitude of the bottom (southernmost) side of the bounding box. right is the longitude of the right (easternmost) side of the bounding box. top is the latitude of the top (northernmost) side of the bounding box. * @returns {Promise} $http.get response */ getNotes(bbox) { var url = '/0.6/notes?bbox=' + bbox; return this.get(url); } //------------------ ELEMENTS: Node ---------------- /** * @param {Object/string} node var node = {osm: {node: { _changeset: '12', _lat: '...', _lon: '...', tags: [ {_k: '...', _v: '...'} ] }}}; * @returns {Promise} $http.put response * PUT /0.6/node/create */ createNode(node) { return this.put('/0.6/node/create', node); } /** * @param {string} id id * @returns {Promise} $http.get response * GET /0.6/node/#id */ getNode(id) { return this.get('/0.6/node/' + id); } /** * @param {string} id id * @returns {Promise} $http.get response * GET /0.6/node/#id/relations */ getNodeRelations(id) { return this.get(`/0.6/node/${id}/relations`); } /** * @param {string} id id * @returns {Promise} $http.get response * GET /0.6/node/#id/ways */ getNodeWays(id) { return this.get(`/0.6/node/${id}/ways`); } /** * @param {array} ids ids * @returns {Promise} $http.get response * GET /0.6/node/#id */ getNodes(ids) { return this.get('/0.6/nodes?nodes=' + ids.join(',')); } /** * @param {string} id id * @returns {Promise} $http.delete response * DELETE /0.6/node/#id */ deleteNode(id) { return this.delete('/0.6/node/' + id); } //------------------ ELEMENTS: WAY ---------------- /** * @param {Object/string} way var way = {osm: {way: { _changeset: '12', _lat: '...', _lon: '...', tags: [ {_k: '...', _v: '...'} ], nd: [ {_ref: '123'}, {_ref: '456'}, ] }}}; * @returns {Promise} $http.put response * PUT /0.6/way/create */ createWay(way) { return this.put('/0.6/way/create', way); } /** * @param {string} id id * @returns {Promise} $http.get response * GET /0.6/way/#id */ getWay(id) { return this.get('/0.6/way/' + id); } /** * @param {string} id id * @returns {Promise} $http.get response * GET /0.6/way/#id/relations */ getWayRelations(id) { return this.get(`/0.6/way/${id}/relations`); } /** * @param {string} id id * @returns {Promise} $http.get response * GET /0.6/way/#id/full */ getWayFull(id) { return this.get(`/0.6/way/${id}/full`); } /** * @param {array} ids ids * @returns {Promise} $http.get response * GET /0.6/ways?ways=ids */ getWays(ids) { return this.get('/0.6/ways?ways=' + ids.join(',')); } /** * @param {string} id id * @returns {Promise} $http.delete response * DELETE /0.6/way/#id */ deleteWay(id) { return this.delete('/0.6/way/' + id); } //------------------ ELEMENTS: RELATION ---------------- /** * @param {Object/string} relation var relation = {osm: {relation: { _changeset: '12', _lat: '...', _lon: '...', tags: [ {_k: '...', _v: '...'} ], member: [ {_type: 'node', _role: 'stop', 'ref': '123'}, {_type: 'way', 'ref': '234'} ] }}}; * @returns {Promise} $http.put response * PUT /0.6/relation/create */ createRelation(relation) { return this.put('/0.6/relation/create', relation); } /** * @param {string} id id * @returns {Promise} $http.get response * GET /0.6/relation/#id */ getRelation(id) { return this.get('/0.6/relation/' + id); } /** * @param {string} id id * @returns {Promise} $http.get response * GET /0.6/relation/#id/relations */ getRelationRelations(id) { return this.get(`/0.6/relation/${id}/relations`); } /** * @param {string} id id * @returns {Promise} $http.get response * GET /0.6/relation/#id/full */ getRelationFull(id) { return this.get(`/0.6/relation/${id}/full`); } /** * @param {array} ids ids * @returns {Promise} $http.get response * GET /0.6/relations?relations=ids */ getRelations(ids) { return this.get('/0.6/relations?relations=' + ids.join(',')); } /** * @param {string} id id * @returns {Promise} $http.delete response * DELETE /0.6/relation/#id */ deleteRelation(id) { return this.delete('/0.6/relation/' + id); } } OSMAPI.$inject = ['$http', '$q', 'osmx2js']; export default OSMAPI; × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"src_osrm_osrm.service.js.html":{"id":"src_osrm_osrm.service.js.html","title":"Source: src/osrm/osrm.service.js","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Source: src/osrm/osrm.service.js /** * @class * Create osrmAPI service instance */ class OSRMAPI{ /** * @param {any} $http * @param {any} $q * https://github.com/Project-OSRM/osrm-backend/blob/master/docs/http.md */ constructor($http, $q, options) { this.url = options.url; this.$http = $http; this.$q = $q; } /** * internal get request to the remote API * @param {string} service * @param {string} version * @param {string} profile * @param {string|Object} coordinates * the string format is {longitude},{latitude};{longitude},{latitude}[;{longitude},{latitude} ...] * @param {Object} options */ get(service, version, profile, coordinates, options) { var _coordinates = coordinates; if (Array.isArray(coordinates)) { _coordinates = coordinates.join(';'); } var url = `${this.url}/${service}/${version}/${profile}/${_coordinates}`; return this.$http.get(url, {params: options}); } /** * neareset service * @param {string} profile * @param {string|Object} coordinates * @param {number} number integer &gt;= 1 (default 1) Number of nearest segments that should be returned. */ nearest(profile, coordinates, number) { var options; if (number) { options = {number: number}; } return this.get('nearest', 'v1', profile, coordinates, options); } /** * route service * @param {string} profile * @param {string|Object} coordinates * @param {Object} options * https://github.com/Project-OSRM/osrm-backend/blob/master/docs/http.md#service-route */ route(profile, coordinates, options) { return this.get('route', 'v1', profile, coordinates, options); } /** * table service * @param {string} profile * @param {string|Object} coordinates * @param {Object} options * https://github.com/Project-OSRM/osrm-backend/blob/master/docs/http.md#service-table */ table(profile, coordinates, options) { return this.get('table', 'v1', profile, coordinates, options); } /** * match service * @param {string} profile * @param {string|Object} coordinates * @param {Object} options * https://github.com/Project-OSRM/osrm-backend/blob/master/docs/http.md#service-match */ match(profile, coordinates, options) { return this.get('match', 'v1', profile, coordinates, options); } /** * trip service * @param {string} profile * @param {string|Object} coordinates * @param {Object} options * https://github.com/Project-OSRM/osrm-backend/blob/master/docs/http.md#service-trip */ trip(profile, coordinates, options) { return this.get('trip', 'v1', profile, coordinates, options); } } OSRMAPI.$inject = ['$http', '$q']; export default OSRMAPI; × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"src_overpass_overpass.service.js.html":{"id":"src_overpass_overpass.service.js.html","title":"Source: src/overpass/overpass.service.js","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Source: src/overpass/overpass.service.js /** * @class * Create osmOverpassAPI service instance */ class OverpassAPI{ /** * @param {Object} $http angular $http service * @param {Object} $q angular $q service * @param {Object} options */ constructor($http, $q, options) { this.url = options.url; this.$http = $http; this.$q = $q; } /** * @param {Object/String} query * http://wiki.openstreetmap.org/wiki/FR:Overpass_API * @return {Promise} $http.get */ overpass(query) { var url = this.url; var deferred = this.$q.defer(); var headers = { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8' }; this.$http.post( url, 'data=' + encodeURIComponent(query), {headers: headers} ).then(function (data) { deferred.resolve(data.data); }, function (data) { deferred.reject(data); }); return deferred.promise; } /** * http://wiki.openstreetmap.org/wiki/FR:Overpass_API/Overpass_QL#By_area_.28area.29 By convention the area id can be calculated from an existing OSM way by adding 2400000000 to its OSM id, or in case of a relation by adding 3600000000 respectively. Note that area creation is subject to some extraction rules, i.e. not all ways/relations have an area counterpart (notably those that are tagged with area=no, and most multipolygons and that don't have a defined name=* will not be part of areas). * @param {String} type 'r'/'relation' or 'w'/'way' * @param {String/Number} osmId the id of the element * @return {Number} the area id */ getAreaId(type, osmId) { var id; if (typeof osmId === 'string') { id = parseInt(osmId, 10); } else { id = osmId; } if (type === 'r' || type === 'relation') { return 3600000000 + id; } else if (type === 'w' || type === 'way') { return 2400000000 + id; } } overpassToGeoJSON(query, filter) { var deferred = this.$q.defer(); var features = []; var relations = []; var result = { type: 'FeatureCollection', features: features, relations: relations }; if (filter === undefined) { filter = function () {}; } this.overpass(query).then(function (data) { //TODO check if data is XML or JSON, here it's JSON var node, feature, coordinates; var cache = {loaded:false}; function getNodeById (id) { if (!cache.loaded) { var tmp; for (var i = 0; i &lt; data.elements.length; i++) { tmp = data.elements[i]; cache[tmp.id] = tmp; } } return cache[id]; } for (var i = 0; i &lt; data.elements.length; i++) { node = data.elements[i]; if (node.type === 'node') { feature = { type: 'Feature', properties:node.tags, id: node.id, geometry: { type:'Point', coordinates: [node.lon, node.lat] } }; if (!filter(feature)) { features.push(feature); } } else if (node.type === 'way') { coordinates = []; feature = { type: 'Feature', properties:node.tags, id: node.id, geometry: { type:'LineString', coordinates: coordinates } }; for (var j = 0; j &lt; node.nodes.length; j++) { coordinates.push([ getNodeById(node.nodes[j]).lon, getNodeById(node.nodes[j]).lat ]); } if (!filter(feature)) { features.push(feature); } } else if (node.type === 'relation') { result.relations.push({ ref: node.id, tags: node.tags, type: 'relation', members: node.members }); } } deferred.resolve(result); }, function (error) { deferred.reject(error); }); return deferred.promise; } } export default OverpassAPI; × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"src_taginfo_taginfo.service.js.html":{"id":"src_taginfo_taginfo.service.js.html","title":"Source: src/taginfo/taginfo.service.js","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Source: src/taginfo/taginfo.service.js /** * @class * Create osmTafInforAPI service instance. * http://taginfo.openstreetmap.org/taginfo/apidoc */ class TagInfoAPI{ /** * @param {Object} $http angular $http service * @param {Object} $q angular $q service */ constructor($http, $q) { this.$http = $http; this.$q = $q; this.url = 'https://taginfo.openstreetmap.org/api/4'; } /** * internal get request to the remote API * @param {string} method * @param {Object} config $http config object * @return {Promise} */ get(method, config) { var deferred = this.$q.defer(); this.$http.get(this.url + method, config).then( function (data) { deferred.resolve(data.data); }, function (error) { deferred.reject(error); } ); return deferred.promise; } /** * @param {any} params key — Tag key (required). query — Only show results where the other_key matches this query (substring match, optional). */ getKeyCombinations(params) { return this.get('/key/combinations', {params: params}); } /** * @param {any} params key — Tag key (required). */ getKeyDistributionNodes(params) { return this.get('/key/distribution/nodes', {params: params}); } /** * @param {any} params * key — Tag key (required). */ getKeyDistributionWays(params) { return this.get('/key/distribution/ways', {params: params}); } /** * @param {any} params * key — Tag key (required). */ getKeyStats(params) { return this.get('/key/stats', {params: params}); } /** * @param {any} params key — Tag key (required). lang — Language for description (optional, default: 'en'). query — Only show results where the value matches this query (substring match, optional). */ getKeyValues(params) { return this.get('/key/values', {params: params}); } /** * @param {any} params key — Tag key (required). */ getKeyWikiPages(params) { return this.get('/key/wiki_pages', {params: params}); } /** * @param {any} params query — Only show keys matching this query (substring match, optional). */ getKeysAll(params) { return this.get('/keys/all', {params: params}); } /** * @param {any} params query — Only show keys matching this query (substring match, optional). */ getKeysWikiPages(params) { return this.get('/keys/wiki_pages', {params: params}); } /** * @param {any} params english — Check for key wiki pages in any language (0, default) or in the English language (1). min_count — How many tags with this key must there be at least to show up here? (default 10000). query — Only show results where the key matches this query (substring match, optional). */ getKeysWithoutWikiPage(params) { return this.get('/keys/without_wiki_page', {params: params}); } /** * @param {any} params query — Only show results where the role matches this query (substring match, optional). rtype — Relation type (required). */ getRelationRoles(params) { return this.get('/relation/roles', {params: params}); } /** * @param {any} params rtype — Relation type (required). */ getRelationStats(params) { return this.get('/relation/stats', {params: params}); } /** * @param {any} params rtype — Relation type (required). */ getRelationWikiPages(params) { return this.get('/relation/wiki_pages', {params: params}); } /** * @param {any} params query — Only show results where the relation type matches this query (substring match, optional). */ getRelationsAll(params) { return this.get('/relations/all', {params: params}); } /** * @param {any} params query — Value to search for (substring search, required). */ getSearchByKeyAndValue(params) { return this.get('/search/by_key_and_value', {params: params}); } /** * @param {any} params query — Value to search for (substring search, required). */ getSearchByKeyword(params) { return this.get('/search/by_keyword', {params: params}); } /** * @param {any} params query — Role to search for (substring search, required). */ getSearchByRole(params) { return this.get('/search/by_role', {params: params}); } /** * @param {any} params query — Value to search for (substring search, required). */ getSearchByValue(params) { return this.get('/search/by_value', {params: params}); } /** * @param {any} params param: No params */ getSiteInfo(params) { return this.get('/site/info', {params: params}); } /** * @param {any} params param: No params */ getSiteSources(params) { return this.get('/site/sources', {params: params}); } /** * @param {any} params key — Tag key (required). query — Only show results where the other_key or other_value matches this query (substring match, optional). value — Tag value (required). */ getTagCombinations(params) { return this.get('/tag/combinations', {params: params}); } /** * @param {any} params key — Tag key (required). value — Tag value (required). */ getTagDistributionNodes(params) { return this.get('/tag/distribution/nodes', {params: params}); } /** * @param {any} params key — Tag key (required). value — Tag value (required). */ getTagDistributionWays(params) { return this.get('/tag/distribution/ways', {params: params}); } /** * @param {any} params key — Tag key (required). value — Tag value (required). */ getTagStats(params) { return this.get('/tag/stats', {params: params}); } /** * @param {any} params key — Tag key (required). value — Tag value (required). */ getTagWikiPages(params) { return this.get('/tag/wiki_pages', {params: params}); } /** * @param {any} params query — Only show tags matching this query (substring match in key and value, optional). */ getTagsPopular(params) { return this.get('/tags/popular', {params: params}); } /** * @param {any} params param: No params */ getWikiLanguages(params) { return this.get('/wiki/languages', {params: params}); } } TagInfoAPI.$inject = ['$http', '$q']; export default TagInfoAPI; × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"src_togeojson_togeojson.factory.js.html":{"id":"src_togeojson_togeojson.factory.js.html","title":"Source: src/togeojson/togeojson.factory.js","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Source: src/togeojson/togeojson.factory.js /** * @constructor ToGeoJSON * @param {Object} options provided by the provider * @description osm to geojson without dependencies :) Import Note : geojson wait for lon/lat where every body else use lat/lon */ function factory(options) { //copy/pasted/adapter from https://github.com/jfirebaugh/leaflet-osm/blob/master/leaflet-osm.js var service = { options, getAsArray, getFeatures, getNodes, getWays, getRelations, getTags, buildFeatures, isWayArea, interestingNode, togeojson }; return service; function getFeatures(data) { var features = []; if (!(data instanceof Array)) { data = buildFeatures(data); } for (let i = 0; i &lt; data.length; i++) { var d = data[i]; var feature = { type: 'Feature', geometry: {}, properties: { id: d.id, tags: d.tags } }; if (d.type === &quot;changeset&quot;) { //build rectangle // X = Long; Y = Lat, lets do it clockwise feature.geometry.type = 'Polygon'; var bounds = d.latLngBounds; feature.geometry.coordinates = [[ [parseFloat(bounds._min_lon), parseFloat(bounds._min_lat)], [parseFloat(bounds._min_lon), parseFloat(bounds._max_lat)], [parseFloat(bounds._max_lon), parseFloat(bounds._max_lat)], [parseFloat(bounds._max_lon), parseFloat(bounds._min_lat)], [parseFloat(bounds._min_lon), parseFloat(bounds._min_lat)] ]]; } else if (d.type === &quot;node&quot;) { //add a Point feature.geometry.type = 'Point'; feature.geometry.coordinates = [d.latLng[1], d.latLng[0]]; } else { var lngLats = new Array(d.nodes.length); for (let j = 0; j &lt; d.nodes.length; j++) { let latLng = d.nodes[j].latLng; lngLats[j] = [latLng[1], latLng[0]]; } if (isWayArea(d)) { feature.geometry.type = 'Polygon'; feature.geometry.coordinates = [lngLats]; } else { feature.geometry.type = 'LineString'; feature.geometry.coordinates = lngLats; } } features.push(feature); } return features; } function getAsArray(data) { if (Array.isArray(data)) { return data; } else if (typeof data === &quot;object&quot;) { return [data]; } else { return []; } } function getTags(data) { var rawtags = getAsArray(data.tag); var tags = {}; rawtags.forEach(function (t) { tags[t._k] = t._v; }); return tags; } function getChangesets(data) { var result = []; var nodes = getAsArray(data.osm.changeset); for (var i = 0; i &lt; nodes.length; i++) { var node = nodes[i]; result.push({ id: node._id, type: &quot;changeset&quot;, latLngBounds: node, tags: getTags(node) }); } return result; } function getNodes(data) { var nodesAsArray = getAsArray(data.osm.node); var nodesById = {}; nodesAsArray.forEach(function (node) { nodesById[node._id] = { id: node._id, type: 'node', latLng: [parseFloat(node._lat), parseFloat(node._lon)], tags: getTags(node) }; }); return nodesById; } function getWays(data, nodes) { var result = []; var ways = getAsArray(data.osm.way); var features = []; ways.forEach(function (way) { var nds = way.nd; var way_object = { id: way._id, type: &quot;way&quot;, nodes: new Array(nds.length), tags: getTags(way) }; for (let j = 0; j &lt; nds.length; j++) { way_object.nodes[j] = nodes[nds[j]._ref]; } result.push(way_object); }); return result; } function getRelations(data, nodes, way) { var result = []; var rels = getAsArray(data.osm.relation); for (let i = 0; i &lt; rels.length; i++) { var rel = rels[i]; var members = getAsArray(rel.member); var rel_object = { id: rel._id, type: &quot;relation&quot;, members: new Array(members.length), tags: getTags(rel) }; for (let j = 0; j &lt; members.length; j++) { if (members[j]._type === &quot;node&quot;) { rel_object.members[j] = nodes[members[j]._ref]; } else{ // relation-way and relation-relation membership not implemented rel_object.members[j] = null; } } result.push(rel_object); } return result; } function buildFeatures(data) { var features = []; var nodes = getNodes(data); //-&gt; {id: data, ...} var ways = getWays(data, nodes); //-&gt;[] var relations = getRelations(data, nodes, ways); //-&gt;[] for (let node_id in nodes) { var node = nodes[node_id]; if (interestingNode(node, ways, relations)) { features.push(node); } } for (let i = 0; i &lt; ways.length; i++) { var way = ways[i]; features.push(way); } return features; } function isWayArea(way) { if (way.nodes[0] != way.nodes[way.nodes.length - 1]) { return false; } for (let key in way.tags) { if (options.areaTags.indexOf(key)) { return true; } } return false; } function interestingNode(node, ways, relations) { var used = false; for (let i = 0; i &lt; ways.length; i++) { if (ways[i].nodes.indexOf(node) &gt;= 0) { used = true; break; } } if (!used) { return true; } for (let i = 0; i &lt; relations.length; i++) { if (relations[i].members.indexOf(node) &gt;= 0) { return true; } } return false; } function togeojson(data, options) { var res = { type: 'FeatureCollection', features: [] }; if (data) { res.features = getFeatures(data); } return res; } } export default factory; × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Modules Classes Base64Adapter NominatimAPI OAuthAdapter OSMAPI OSRMAPI OverpassAPI TagInfoAPI ToGeoJSON × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Classes Classes Base64Adapter NominatimAPI OAuthAdapter OSMAPI OSRMAPI OverpassAPI TagInfoAPI ToGeoJSON × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Angular OSM Angular OSM is a set of angular services to use OSM APIs. Please visit the website (with examples) http://toutpt.github.io/angular-osm How to add angular openstreetmap to my projectFirst add it to your dependencies: npm install --save angular-osmNext it depends what you want to do. The release provide many distributed files: node_modules/angular-osm ├── README.md ├── dist │ ├── osm-api.js │ ├── osm-api.min.js │ ├── osm-base64.js │ ├── osm-base64.min.js │ ├── osm-full.js │ ├── osm-full.min.js │ ├── osm-nominatim.js │ ├── osm-nominatim.min.js │ ├── osm-oauth.js │ ├── osm-oauth.min.js │ ├── osm-overpass.js │ ├── osm-overpass.min.js │ ├── osm-taginfo.js │ ├── osm-taginfo.min.js │ ├── osm-togeojson.js │ ├── osm-togeojson.min.jsEach build provides one osm api integration so you can just pick the one you want. If you want all API just include osm-full.min.js. So you may need more dependencies dependening on what you want to do. Here is the dependencies table of angular-osm builds: dist dependencies to install osm-api npm install --save x2js osm-base64 npm install --save angular-base64 x2js osm-oauth npm install --save osm-auth x2js osm-nominatim osm-overpass osm-taginfo osm-togeojson Now you have choose this you can plug the component into your angular app: angular.module('example', ['osm.api'])If you want, most of provided service can be configured using correspondint providers angular.module('example', ['osm.api']) .config(function (osmAPIProvider) { osmAPIProvider.options = { url: 'http://api06.dev.openstreetmap.org/api' }; });The complete list of injectable services: osm.api osm.nominatim osm.oauth osm.overpass osm.taginfo osm.togeojson osm.base64 osmAPI osmNominatim osmAuthService osmOverpassAPI osmTagInfoAPI osmtogeojson osmBase64 × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"Base64Adapter.html":{"id":"Base64Adapter.html","title":"Class: Base64Adapter","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Class: Base64Adapter Base64Adapter Create osmBase64 angular service instance. This can be used as osmAPI adapter. new Base64Adapter($base64, $http, osmx2js) the constructor Parameters: Name Type Description $base64 Object service provided by angular-base64 module $http Object angular $http service osmx2js Object angular-osm service to transform response from xml to object Source: src/base64/base64.service.js, line 7 Methods clearCredentials() remove credentials from the localstorage Source: src/base64/base64.service.js, line 79 Returns: HTTP Header 'Basic CREDENTIAL AS BASE64' Type string getAuthorization() compute authorization header from credentials Source: src/base64/base64.service.js, line 72 Returns: HTTP Header 'Basic CREDENTIAL AS BASE64' Type string getCredentials() if you don't use oauth, you can manage credentials here using base64 headers Source: src/base64/base64.service.js, line 65 Returns: crendentials from the last set Type string setCredentials(username, password) if you don't use oauth, you can save credentials here using base64 localstorage (completly unsecure) Parameters: Name Type Description username string your username password string the user password. WARNING base64 is unsafe and the credentials are stored in the localstorage Source: src/base64/base64.service.js, line 54 Returns: crendentials Type string xhr(options) the main method used to do the call to the API Parameters: Name Type Description options Object Source: src/base64/base64.service.js, line 27 Returns: $http response Type Promise × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"module-osm.html":{"id":"module-osm.html","title":"Module: osm","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Module: osm Source: src/osm.js, line 1 Module: osm Source: src/osm.js, line 1 × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"NominatimAPI.html":{"id":"NominatimAPI.html","title":"Class: NominatimAPI","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Class: NominatimAPI NominatimAPI Create osmNominatim service instance. This service create nominatim query. new NominatimAPI($http, options) Parameters: Name Type Description $http Object angular $http service options Object set by the provider to set the url Source: src/nominatim/nominatim.service.js, line 7 Methods lookup(query) http://nominatim.openstreetmap.org/lookup?osm_ids=R146656,W104393803,N240109189 Parameters: Name Type Description query Object/String http://wiki.openstreetmap.org/wiki/Nominatim Source: src/nominatim/nominatim.service.js, line 76 Returns: $http.get Type Promise reverse(query) Parameters: Name Type Description query Object/String http://wiki.openstreetmap.org/wiki/Nominatim Source: src/nominatim/nominatim.service.js, line 48 Returns: $http.get Type Promise search(query) Parameters: Name Type Description query Object/String http://wiki.openstreetmap.org/wiki/Nominatim Source: src/nominatim/nominatim.service.js, line 22 Returns: $http.get Type Promise × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"OAuthAdapter.html":{"id":"OAuthAdapter.html","title":"Class: OAuthAdapter","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Class: OAuthAdapter OAuthAdapter Create osmAuthService service instance new OAuthAdapter($q, osmx2js, options) Parameters: Name Type Description $q Object angular $q service osmx2js Object angular osm service options Object set options for the lib https://github.com/osmlab/osm-auth Source: src/oauth/oauth.service.js, line 6 Methods authenticate() Source: src/oauth/oauth.service.js, line 38 Returns: true/false value Type Promise authenticated() Source: src/oauth/oauth.service.js, line 32 Returns: Type boolean logout() Just logout. Warning this is synchronous code and doesn t return anything. Source: src/oauth/oauth.service.js, line 26 options(options) Set the options of the oauth lib Parameters: Name Type Description options Object set options for the lib https://github.com/osmlab/osm-auth Source: src/oauth/oauth.service.js, line 74 xhr(options) Parameters: Name Type Description options Object Source: src/oauth/oauth.service.js, line 49 Returns: http response Type Promise × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"osm.module_api.html":{"id":"osm.module_api.html","title":"Module: api","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Module: api Source: src/api/api.js, line 1 × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"osm.module_base64.html":{"id":"osm.module_base64.html","title":"Module: base64","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Module: base64 Source: src/base64/base64.js, line 1 × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"osm.module_nominatim.html":{"id":"osm.module_nominatim.html","title":"Module: nominatim","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Module: nominatim Source: src/nominatim/nominatim.js, line 1 × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"osm.module_oauth.html":{"id":"osm.module_oauth.html","title":"Module: oauth","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Module: oauth Source: src/oauth/oauth.js, line 1 × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"osm.module_osrm.html":{"id":"osm.module_osrm.html","title":"Module: osrm","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Module: osrm Source: src/osrm/osrm.js, line 1 × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"osm.module_overpass.html":{"id":"osm.module_overpass.html","title":"Module: overpass","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Module: overpass Source: src/overpass/overpass.js, line 1 × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"osm.module_taginfo.html":{"id":"osm.module_taginfo.html","title":"Module: taginfo","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Module: taginfo Source: src/taginfo/taginfo.js, line 1 × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"osm.module_togeojson.html":{"id":"osm.module_togeojson.html","title":"Module: togeojson","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Module: togeojson Source: src/togeojson/togeojson.js, line 1 × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"osm.module_x2js.html":{"id":"osm.module_x2js.html","title":"Module: x2js","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Module: x2js Source: src/x2js/x2js.js, line 1 × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"OSMAPI.html":{"id":"OSMAPI.html","title":"Class: OSMAPI","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Class: OSMAPI OSMAPI Create the angular service instance. The main idea is to provide only object and hide the XML related stuf. This is achieve using XML2JS. new OSMAPI($http, $q, osmx2js, options) Parameters: Name Type Description $http Object angular http $q Object angular promise osmx2js Object service options Object to get set url of the API Source: src/api/api.service.js, line 7 Methods closeChangeset() Source: src/api/api.service.js, line 173 Returns: $http.put response of /0.6/changeset/CHANGESET_ID/close Type Promise createChangeset(comment) Parameters: Name Type Description comment string the comment assiociated to the changeset Source: src/api/api.service.js, line 131 Returns: $http response Type Promise createNode(node) Parameters: Name Type Description node Object/string var node = {osm: {node: { _changeset: '12', _lat: '...', _lon: '...', tags: [ {_k: '...', _v: '...'} ] }}}; Source: src/api/api.service.js, line 266 Returns: $http.put response PUT /0.6/node/create Type Promise createRelation(relation) Parameters: Name Type Description relation Object/string var relation = {osm: {relation: { _changeset: '12', _lat: '...', _lon: '...', tags: [ {_k: '...', _v: '...'} ], member: [ {_type: 'node', _role: 'stop', 'ref': '123'}, {_type: 'way', 'ref': '234'} ] }}}; Source: src/api/api.service.js, line 404 Returns: $http.put response PUT /0.6/relation/create Type Promise createWay(way) Parameters: Name Type Description way Object/string var way = {osm: {way: { _changeset: '12', _lat: '...', _lon: '...', tags: [ {_k: '...', _v: '...'} ], nd: [ {_ref: '123'}, {_ref: '456'}, ] }}}; Source: src/api/api.service.js, line 335 Returns: $http.put response PUT /0.6/way/create Type Promise delete(method, config) send a delete request Parameters: Name Type Description method string the api method config Object the $http.delete config Source: src/api/api.service.js, line 113 Returns: $http response Type Promise deleteNode(id) Parameters: Name Type Description id string id Source: src/api/api.service.js, line 311 Returns: $http.delete response DELETE /0.6/node/#id Type Promise deleteRelation(id) Parameters: Name Type Description id string id Source: src/api/api.service.js, line 449 Returns: $http.delete response DELETE /0.6/relation/#id Type Promise deleteWay(id) Parameters: Name Type Description id string id Source: src/api/api.service.js, line 382 Returns: $http.delete response DELETE /0.6/way/#id Type Promise get(method, config) send a get request Parameters: Name Type Description method string the api method config Object the $http.get config Source: src/api/api.service.js, line 79 Returns: $http response with XML as string Type Promise getAuthAdapter() Get the adapter used to do authenticated xhr Source: src/api/api.service.js, line 35 Returns: Type Object getAuthenticated() send a get request to OSM with Source: src/api/api.service.js, line 64 Returns: $http response Type Promise getLastOpenedChangesetId() Source: src/api/api.service.js, line 151 Returns: $http response with the last changeset id or undefined if no changeset was opened Type Promise getMap(bbox) Parameters: Name Type Description bbox string left,bottom,right,top where: left is the longitude of the left (westernmost) side of the bounding box. bottom is the latitude of the bottom (southernmost) side of the bounding box. right is the longitude of the right (easternmost) side of the bounding box. top is the latitude of the top (northernmost) side of the bounding box. Source: src/api/api.service.js, line 232 Returns: $http.get response /0.6/map?bbox=bbox Type Promise getNode(id) Parameters: Name Type Description id string id Source: src/api/api.service.js, line 275 Returns: $http.get response GET /0.6/node/#id Type Promise getNodeRelations(id) Parameters: Name Type Description id string id Source: src/api/api.service.js, line 284 Returns: $http.get response GET /0.6/node/#id/relations Type Promise getNodes(ids) Parameters: Name Type Description ids array ids Source: src/api/api.service.js, line 302 Returns: $http.get response GET /0.6/node/#id Type Promise getNodeWays(id) Parameters: Name Type Description id string id Source: src/api/api.service.js, line 293 Returns: $http.get response GET /0.6/node/#id/ways Type Promise getNotes(bbox) Parameters: Name Type Description bbox string left,bottom,right,top where: left is the longitude of the left (westernmost) side of the bounding box. bottom is the latitude of the bottom (southernmost) side of the bounding box. right is the longitude of the right (easternmost) side of the bounding box. top is the latitude of the top (northernmost) side of the bounding box. Source: src/api/api.service.js, line 246 Returns: $http.get response Type Promise getRelation(id) Parameters: Name Type Description id string id Source: src/api/api.service.js, line 413 Returns: $http.get response GET /0.6/relation/#id Type Promise getRelationFull(id) Parameters: Name Type Description id string id Source: src/api/api.service.js, line 431 Returns: $http.get response GET /0.6/relation/#id/full Type Promise getRelationRelations(id) Parameters: Name Type Description id string id Source: src/api/api.service.js, line 421 Returns: $http.get response GET /0.6/relation/#id/relations Type Promise getRelations(ids) Parameters: Name Type Description ids array ids Source: src/api/api.service.js, line 440 Returns: $http.get response GET /0.6/relations?relations=ids Type Promise getUserById(id) Parameters: Name Type Description id string id of the user Source: src/api/api.service.js, line 189 Returns: $http.get response /0.6/user/#id Type Promise getUserDetails() Source: src/api/api.service.js, line 198 Returns: $http.get response /0.6/user/details Type Promise getUserPreferences() Source: src/api/api.service.js, line 205 Returns: $http.get response /0.6/user/preferences Type Promise getWay(id) Parameters: Name Type Description id string id Source: src/api/api.service.js, line 344 Returns: $http.get response GET /0.6/way/#id Type Promise getWayFull(id) Parameters: Name Type Description id string id Source: src/api/api.service.js, line 363 Returns: $http.get response GET /0.6/way/#id/full Type Promise getWayRelations(id) Parameters: Name Type Description id string id Source: src/api/api.service.js, line 353 Returns: $http.get response GET /0.6/way/#id/relations Type Promise getWays(ids) Parameters: Name Type Description ids array ids Source: src/api/api.service.js, line 372 Returns: $http.get response GET /0.6/ways?ways=ids Type Promise put(method, content, config) send a put request Parameters: Name Type Description method string the api method content Object payload config Object the $http.put config Source: src/api/api.service.js, line 97 Returns: $http response Type Promise putUserPreferences(key, value) Parameters: Name Type Description key string the preference key value string the preference value Source: src/api/api.service.js, line 215 Returns: $http.get response /0.6/user/preferences Type Promise setAuthAdapter(adapter) Set the adapter to make authenticated request. Parameters: Name Type Description adapter Object must provide xhr method. angular-osm provide two adapter: osmBase64 and osmAuthService Source: src/api/api.service.js, line 27 xhr(options) Call the API Parameters: Name Type Description options Object ``` var options = { method: 'GET', // POST, DELETE, PUT path: '/0.6/changesets', //without the /api data: content //if you need a payload }; osmAPI.xhr(options); ``` Source: src/api/api.service.js, line 55 Returns: the adapter response Type Promise × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"OSRMAPI.html":{"id":"OSRMAPI.html","title":"Class: OSRMAPI","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Class: OSRMAPI OSRMAPI Create osrmAPI service instance new OSRMAPI($http, $q) Parameters: Name Type Description $http any $q any https://github.com/Project-OSRM/osrm-backend/blob/master/docs/http.md Source: src/osrm/osrm.service.js, line 6 Methods get(service, version, profile, coordinates, options) internal get request to the remote API Parameters: Name Type Description service string version string profile string coordinates string | Object the string format is {longitude},{latitude};{longitude},{latitude}[;{longitude},{latitude} ...] options Object Source: src/osrm/osrm.service.js, line 26 match(profile, coordinates, options) match service Parameters: Name Type Description profile string coordinates string | Object options Object https://github.com/Project-OSRM/osrm-backend/blob/master/docs/http.md#service-match Source: src/osrm/osrm.service.js, line 74 nearest(profile, coordinates, number) neareset service Parameters: Name Type Description profile string coordinates string | Object number number integer &gt;= 1 (default 1) Number of nearest segments that should be returned. Source: src/osrm/osrm.service.js, line 40 route(profile, coordinates, options) route service Parameters: Name Type Description profile string coordinates string | Object options Object https://github.com/Project-OSRM/osrm-backend/blob/master/docs/http.md#service-route Source: src/osrm/osrm.service.js, line 54 table(profile, coordinates, options) table service Parameters: Name Type Description profile string coordinates string | Object options Object https://github.com/Project-OSRM/osrm-backend/blob/master/docs/http.md#service-table Source: src/osrm/osrm.service.js, line 64 trip(profile, coordinates, options) trip service Parameters: Name Type Description profile string coordinates string | Object options Object https://github.com/Project-OSRM/osrm-backend/blob/master/docs/http.md#service-trip Source: src/osrm/osrm.service.js, line 84 × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"OverpassAPI.html":{"id":"OverpassAPI.html","title":"Class: OverpassAPI","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Class: OverpassAPI OverpassAPI Create osmOverpassAPI service instance new OverpassAPI($http, $q, options) Parameters: Name Type Description $http Object angular $http service $q Object angular $q service options Object Source: src/overpass/overpass.service.js, line 7 Methods getAreaId(type, osmId) http://wiki.openstreetmap.org/wiki/FR:Overpass_API/Overpass_QL#By_area_.28area.29 By convention the area id can be calculated from an existing OSM way by adding 2400000000 to its OSM id, or in case of a relation by adding 3600000000 respectively. Note that area creation is subject to some extraction rules, i.e. not all ways/relations have an area counterpart (notably those that are tagged with area=no, and most multipolygons and that don't have a defined name=* will not be part of areas). Parameters: Name Type Description type String 'r'/'relation' or 'w'/'way' osmId String/Number the id of the element Source: src/overpass/overpass.service.js, line 47 Returns: the area id Type Number overpass(query) Parameters: Name Type Description query Object/String http://wiki.openstreetmap.org/wiki/FR:Overpass_API Source: src/overpass/overpass.service.js, line 23 Returns: $http.get Type Promise × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"TagInfoAPI.html":{"id":"TagInfoAPI.html","title":"Class: TagInfoAPI","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Class: TagInfoAPI TagInfoAPI Create osmTafInforAPI service instance. http://taginfo.openstreetmap.org/taginfo/apidoc new TagInfoAPI($http, $q) Parameters: Name Type Description $http Object angular $http service $q Object angular $q service Source: src/taginfo/taginfo.service.js, line 7 Methods get(method, config) internal get request to the remote API Parameters: Name Type Description method string config Object $http config object Source: src/taginfo/taginfo.service.js, line 23 Returns: Type Promise getKeyCombinations(params) Parameters: Name Type Description params any key — Tag key (required). query — Only show results where the other_key matches this query (substring match, optional). Source: src/taginfo/taginfo.service.js, line 39 getKeyDistributionNodes(params) Parameters: Name Type Description params any key — Tag key (required). Source: src/taginfo/taginfo.service.js, line 46 getKeyDistributionWays(params) Parameters: Name Type Description params any key — Tag key (required). Source: src/taginfo/taginfo.service.js, line 53 getKeysAll(params) Parameters: Name Type Description params any query — Only show keys matching this query (substring match, optional). Source: src/taginfo/taginfo.service.js, line 83 getKeyStats(params) Parameters: Name Type Description params any key — Tag key (required). Source: src/taginfo/taginfo.service.js, line 60 getKeysWikiPages(params) Parameters: Name Type Description params any query — Only show keys matching this query (substring match, optional). Source: src/taginfo/taginfo.service.js, line 90 getKeysWithoutWikiPage(params) Parameters: Name Type Description params any english — Check for key wiki pages in any language (0, default) or in the English language (1). min_count — How many tags with this key must there be at least to show up here? (default 10000). query — Only show results where the key matches this query (substring match, optional). Source: src/taginfo/taginfo.service.js, line 99 getKeyValues(params) Parameters: Name Type Description params any key — Tag key (required). lang — Language for description (optional, default: 'en'). query — Only show results where the value matches this query (substring match, optional). Source: src/taginfo/taginfo.service.js, line 69 getKeyWikiPages(params) Parameters: Name Type Description params any key — Tag key (required). Source: src/taginfo/taginfo.service.js, line 76 getRelationRoles(params) Parameters: Name Type Description params any query — Only show results where the role matches this query (substring match, optional). rtype — Relation type (required). Source: src/taginfo/taginfo.service.js, line 107 getRelationsAll(params) Parameters: Name Type Description params any query — Only show results where the relation type matches this query (substring match, optional). Source: src/taginfo/taginfo.service.js, line 128 getRelationStats(params) Parameters: Name Type Description params any rtype — Relation type (required). Source: src/taginfo/taginfo.service.js, line 114 getRelationWikiPages(params) Parameters: Name Type Description params any rtype — Relation type (required). Source: src/taginfo/taginfo.service.js, line 121 getSearchByKeyAndValue(params) Parameters: Name Type Description params any query — Value to search for (substring search, required). Source: src/taginfo/taginfo.service.js, line 135 getSearchByKeyword(params) Parameters: Name Type Description params any query — Value to search for (substring search, required). Source: src/taginfo/taginfo.service.js, line 142 getSearchByRole(params) Parameters: Name Type Description params any query — Role to search for (substring search, required). Source: src/taginfo/taginfo.service.js, line 149 getSearchByValue(params) Parameters: Name Type Description params any query — Value to search for (substring search, required). Source: src/taginfo/taginfo.service.js, line 156 getSiteInfo(params) Parameters: Name Type Description params any param: No params Source: src/taginfo/taginfo.service.js, line 163 getSiteSources(params) Parameters: Name Type Description params any param: No params Source: src/taginfo/taginfo.service.js, line 170 getTagCombinations(params) Parameters: Name Type Description params any key — Tag key (required). query — Only show results where the other_key or other_value matches this query (substring match, optional). value — Tag value (required). Source: src/taginfo/taginfo.service.js, line 179 getTagDistributionNodes(params) Parameters: Name Type Description params any key — Tag key (required). value — Tag value (required). Source: src/taginfo/taginfo.service.js, line 187 getTagDistributionWays(params) Parameters: Name Type Description params any key — Tag key (required). value — Tag value (required). Source: src/taginfo/taginfo.service.js, line 195 getTagsPopular(params) Parameters: Name Type Description params any query — Only show tags matching this query (substring match in key and value, optional). Source: src/taginfo/taginfo.service.js, line 218 getTagStats(params) Parameters: Name Type Description params any key — Tag key (required). value — Tag value (required). Source: src/taginfo/taginfo.service.js, line 203 getTagWikiPages(params) Parameters: Name Type Description params any key — Tag key (required). value — Tag value (required). Source: src/taginfo/taginfo.service.js, line 211 getWikiLanguages(params) Parameters: Name Type Description params any param: No params Source: src/taginfo/taginfo.service.js, line 225 × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "},"ToGeoJSON.html":{"id":"ToGeoJSON.html","title":"Class: ToGeoJSON","body":" Angular OSM Modules osmosm.apiosm.base64osm.nominatimosm.oauthosm.osrmosm.overpassosm.taginfoosm.togeojsonosm.x2js Classes Base64AdapterNominatimAPIOAuthAdapterOSMAPIOSRMAPIOverpassAPITagInfoAPIToGeoJSON Class: ToGeoJSON ToGeoJSON new ToGeoJSON(options) osm to geojson without dependencies :) Import Note : geojson wait for lon/lat where every body else use lat/lon Parameters: Name Type Description options Object provided by the provider Source: src/togeojson/togeojson.factory.js, line 2 × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-05-31 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
